(()=>{"use strict";const e={azathoth:[[1,2,1],[2,3,1],[2,4,0]],cthulthu:[[0,2,2],[1,3,0],[3,4,0]],iogSothoth:[[0,2,1],[2,3,1],[3,4,0]],shubNiggurath:[[1,2,1],[3,2,1],[2,4,0]]},r="./assets/mythic_cards/brown/",c=[{id:"brown1",cardFace:r+"brown1",difficulty:"normal",color:"brown"},{id:"brown2",cardFace:r+"brown2",difficulty:"normal",color:"brown"},{id:"brown3",cardFace:r+"brown3",difficulty:"normal",color:"brown"},{id:"brown4",cardFace:r+"brown4",difficulty:"normal",color:"brown"},{id:"brown5",cardFace:r+"brown5",difficulty:"normal",color:"brown"},{id:"brown6",cardFace:r+"brown6",difficulty:"hard",color:"brown"},{id:"brown7",cardFace:r+"brown7",difficulty:"hard",color:"brown"},{id:"brown8",cardFace:r+"brown8",difficulty:"hard",color:"brown"},{id:"brown9",cardFace:r+"brown9",difficulty:"hard",color:"brown"},{id:"brown10",cardFace:r+"brown10",difficulty:"hard",color:"brown"},{id:"brown11",cardFace:r+"brown11",difficulty:"easy",color:"brown"},{id:"brown12",cardFace:r+"brown12",difficulty:"easy",color:"brown"},{id:"brown13",cardFace:r+"brown13",difficulty:"easy",color:"brown"},{id:"brown14",cardFace:r+"brown14",difficulty:"easy",color:"brown"},{id:"brown15",cardFace:r+"brown15",difficulty:"normal",color:"brown"},{id:"brown16",cardFace:r+"brown16",difficulty:"normal",color:"brown"},{id:"brown17",cardFace:r+"brown17",difficulty:"normal",color:"brown"},{id:"brown18",cardFace:r+"brown18",difficulty:"normal",color:"brown"},{id:"brown19",cardFace:r+"brown19",difficulty:"normal",color:"brown"},{id:"brown20",cardFace:r+"brown20",difficulty:"normal",color:"brown"},{id:"brown21",cardFace:r+"brown21",difficulty:"easy",color:"brown"}],t="./assets/mythic_cards/blue/",o=[{id:"blue1",cardFace:t+"blue1",difficulty:"hard",color:"blue"},{id:"blue2",cardFace:t+"blue2",difficulty:"hard",color:"blue"},{id:"blue3",cardFace:t+"blue3",difficulty:"easy",color:"blue"},{id:"blue4",cardFace:t+"blue4",difficulty:"easy",color:"blue"},{id:"blue5",cardFace:t+"blue5",difficulty:"easy",color:"blue"},{id:"blue6",cardFace:t+"blue6",difficulty:"hard",color:"blue"},{id:"blue7",cardFace:t+"blue7",difficulty:"normal",color:"blue"},{id:"blue8",cardFace:t+"blue8",difficulty:"hard",color:"blue"},{id:"blue9",cardFace:t+"blue9",difficulty:"normal",color:"blue"},{id:"blue10",cardFace:t+"blue10",difficulty:"easy",color:"blue"},{id:"blue11",cardFace:t+"blue11",difficulty:"normal",color:"blue"},{id:"blue12",cardFace:t+"blue12",difficulty:"normal",color:"blue"}],a="./assets/mythic_cards/green/",n=[{id:"green1",cardFace:a+"green1",difficulty:"easy",color:"green"},{id:"green2",cardFace:a+"green2",difficulty:"hard",color:"green"},{id:"green3",cardFace:a+"green3",difficulty:"hard",color:"green"},{id:"green4",cardFace:a+"green4",difficulty:"hard",color:"green"},{id:"green5",cardFace:a+"green5",difficulty:"hard",color:"green"},{id:"green6",cardFace:a+"green6",difficulty:"hard",color:"green"},{id:"green7",cardFace:a+"green7",difficulty:"normal",color:"green"},{id:"green8",cardFace:a+"green8",difficulty:"normal",color:"green"},{id:"green9",cardFace:a+"green9",difficulty:"normal",color:"green"},{id:"green10",cardFace:a+"green10",difficulty:"normal",color:"green"},{id:"green11",cardFace:a+"green11",difficulty:"normal",color:"green"},{id:"green12",cardFace:a+"green12",difficulty:"easy",color:"green"},{id:"green13",cardFace:a+"green13",difficulty:"normal",color:"green"},{id:"green14",cardFace:a+"green14",difficulty:"normal",color:"green"},{id:"green15",cardFace:a+"green15",difficulty:"normal",color:"green"},{id:"green16",cardFace:a+"green16",difficulty:"easy",color:"green"},{id:"green17",cardFace:a+"green17",difficulty:"easy",color:"green"},{id:"green18",cardFace:a+"green18",difficulty:"easy",color:"green"}];function l(e,r,t,a=""){let l=[[...i(n.filter((e=>e.difficulty==r))),...i(n.filter((e=>e.difficulty==t))),...i(n.filter((e=>e.difficulty==a)))],[...i(c.filter((e=>e.difficulty==r))),...i(c.filter((e=>e.difficulty==t))),...i(c.filter((e=>e.difficulty==a)))],[...i(o.filter((e=>e.difficulty==r))),...i(o.filter((e=>e.difficulty==t))),...i(o.filter((e=>e.difficulty==a)))]];return e&&l.forEach((e=>i(e))),l}function i(e){for(let r=0;r<3*e.length;r++){let r=d(0,e.length),c=u(r,0,e.length),t=e[r];e[r]=e[c],e[c]=t}return e}function d(e,r){return Math.floor(Math.random()*r+e)}function u(e,r,c){let t,o=!0;for(;e==t||o;)o=!1,t=d(r,c);return t}const s=document.querySelectorAll(".ancients-img");let f=0;function b(e){var r;(r=[".score-level-one",".score-level-two",".score-level-three"],r.map((e=>{return function(e){return[e.querySelector(".score-green"),e.querySelector(".score-brown"),e.querySelector(".score-blue")]}((r=e,document.querySelector(r)));var r}))).forEach(((r,c)=>r.forEach(((r,t)=>r.textContent=e[c][t]))))}const y=document.querySelector(".start");let m=!0;function g(r,c){document.querySelectorAll(".level").forEach(((e,r)=>{setTimeout((()=>e.classList.remove("level-active")),100*r)})),document.querySelector("body").style.boxShadow=function(e){let r="inset 0px 0px 45px 0px ";switch(e){case"extra-easy":return r+"#c9c9c9";case"easy":return r+"#3ea7a6";case"normal":return r+"#a7973e";case"hard":return r+"#a73e3e";case"extra-hard":return r+"#940a0a"}}(r.getAttribute("data-name"));const t=r.getAttribute("data-name"),o=c.getAttribute("data-name"),a=function(e){switch(e){case"extra-easy":return l(!1,"normal","easy");case"easy":return l(!0,"easy","normal");case"normal":return l(!0,"easy","hard","normal");case"hard":return l(!0,"hard","normal");case"extra-hard":return l(!1,"normal","hard")}}(t),n=JSON.parse(JSON.stringify(e[o]));setTimeout((()=>{document.querySelector(".desk").classList.add("desk-active"),document.querySelector(".score").classList.add("score-active")}),1e3),document.querySelector(".score-current-level").textContent=function(e){let r="Level: ";switch(e){case"extra-easy":return r+"Very Easy";case"easy":return r+"Easy";case"normal":return r+"Normal";case"hard":return r+"Hard";case"extra-hard":return r+"Horror"}}(t),b(n),function(e,r){let c=document.createElement("img");c.setAttribute("src","./assets/mythicCardBackground.webp"),c.setAttribute("class","desk-back"),c.setAttribute("alt","card back side"),c.onclick=()=>function(e,r,c=3){let t=d(0,c);for(;0==e[f][t];)t=(t+d(0,200))%c;let o=document.querySelector(".desk-face"),a=r[t].pop().cardFace+".webp";o?o.setAttribute("src",a):function(e){let r=document.querySelector(".desk"),c=document.createElement("img");c.setAttribute("class","desk-face"),c.setAttribute("src",e),c.setAttribute("alt","front of card"),r.append(c)}(a),--e[f][t],b(e),0==e[f].reduce(((e,r)=>e+r),0)&&++f==c&&document.querySelector(".desk-back").remove()}(e,r),document.querySelector(".desk").append(c)}(n,a)}s.forEach((e=>e.addEventListener("click",(e=>function(e){document.querySelector(".start").classList.contains("hidden")&&document.querySelectorAll(".ancients-img").forEach((r=>{var c;r.getAttribute("data-name")!=e.target.getAttribute("data-name")?(r.classList.add("hidden"),setTimeout((()=>r.classList.add("hidden-none")),1e3)):(c=e.target,document.querySelectorAll(".level").forEach(((e,r)=>{e.onclick=function(e){m&&(m=!1,setTimeout((()=>m=!0),1e3),g(e.target,c))},setTimeout((()=>e.classList.add("level-active")),100*r+1500)})),y.classList.remove("hidden-none"),setTimeout((()=>y.classList.remove("hidden")),1e3),setTimeout((()=>{r.style.boxShadow=function(e){let r="1px 1px 15px 5px ";switch(e){case"cthulthu":return r+"#c46521";case"shubNiggurath":return r+"#8c6d8f";case"iogSothoth":return r+"#5b1d05";case"azathoth":return r+"#47500e"}}(r.getAttribute("data-name")),r.classList.add("ancients-img-active"),r.classList.remove("max")}),1e3))}))}(e))))),document.addEventListener("click",(e=>function(e){if(e.target.closest(".start")){s.forEach((e=>{e.classList.add("max"),e.classList.remove("ancients-img-active"),e.style.boxShadow="none",e.classList.remove("hidden-none"),setTimeout((()=>e.classList.remove("hidden")),1e3)})),document.querySelectorAll(".level").forEach((e=>e.classList.remove("level-active"))),document.querySelector("body").style.boxShadow="none";let r=document.querySelector(".desk-back");r&&r.remove();let c=document.querySelector(".desk-face");c&&c.remove();const t=document.querySelector(".desk");t.classList.add("hidden"),setTimeout((()=>t.classList.remove("desk-active")),500),setTimeout((()=>t.classList.remove("hidden")),900);const o=document.querySelector(".score");o.classList.add("hidden"),setTimeout((()=>o.classList.remove("score-active")),500),setTimeout((()=>o.classList.remove("hidden")),900),e.target.classList.add("hidden"),setTimeout((()=>e.target.classList.add("hidden-none")),1e3),f=0}}(e)))})();